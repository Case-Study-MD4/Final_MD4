<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:fragment="library">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title th:text="${pageTitle} ?: 'FoodNow | Ứng dụng đặt món tiện lợi'">FoodNow | Ứng dụng đặt món tiện lợi</title>

    <!-- BOOTSTRAP -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>

    <!-- FONT AWESOME -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"/>
</head>

<body>
<!-- ================= HEADER ================= -->
<div th:fragment="header">
    <nav class="navbar navbar-expand-lg navbar-dark py-3"
         style="background: linear-gradient(90deg, #ff4d4f, #ff7875); box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
        <div class="container">
            <a class="navbar-brand fw-bold text-white" th:href="@{/home}">🍔 𝓕𝓸𝓸𝓭𝓝𝓸𝔀</a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <form th:action="@{/search}" method="get"
                      class="d-flex mx-lg-auto my-2 my-lg-0" role="search"
                      style="max-width: 400px; width: 100%;">
                    <input
                            type="text"
                            name="keyword"
                            class="form-control me-2 rounded-pill px-3"
                            placeholder="🔍 Tìm món, nhà hàng..."
                            aria-label="Search"
                            required>
                    <button class="btn btn-outline-light rounded-pill px-3" type="submit">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                </form>

                <ul class="navbar-nav ms-auto">
                    <li class="nav-item mx-2"><a class="nav-link" th:href="@{/home}">Trang chủ</a></li>
                    <li class="nav-item mx-2"><a class="nav-link" th:href="@{/restaurants}">Nhà hàng</a></li>
                    <li class="nav-item mx-2"><a class="nav-link" th:href="@{/menu}">Giỏ hàng</a></li>
                    <!-- Nếu chưa đăng nhập -->
                    <li class="nav-item mx-2"
                        sec:authorize="isAnonymous()">
                        <a class="nav-link" th:href="@{/login}">Đăng nhập</a>
                    </li>

                    <!-- Nếu đã đăng nhập -->
                    <li class="nav-item mx-2 dropdown"
                        sec:authorize="isAuthenticated()">
                        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown">
                            👤 <span sec:authentication="name">Tài khoản</span>
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="userDropdown">
                            <li><a class="dropdown-item" th:href="@{/profile}">Thông tin tài khoản</a></li>
                            <li><a class="dropdown-item" th:href="@{/logout}">Đăng xuất</a></li>
                        </ul>
                    </li>
                    
                </ul>
            </div>
        </div>
    </nav>
</div>

<!-- ================= FOOTER ================= -->
<footer th:fragment="footer" class="py-5 mt-5" style="background-color: #1a1a1a; color: #ccc;">
    <div class="container">
        <div class="row">
            <div class="col-md-4 mb-3">
                <h5 style="color:white; font-weight:600;">FoodNow</h5>
                <p>Ứng dụng đặt món ăn tiện lợi — kết nối khách hàng và nhà hàng trong vài giây.</p>
            </div>
            <div class="col-md-4 mb-3">
                <h5 style="color:white; font-weight:600;">Liên hệ</h5>
                <p>📞 0987 654 321</p>
                <p>✉️ support@foodnow.vn</p>
            </div>
            <div class="col-md-4 mb-3">
                <h5 style="color:white; font-weight:600;">Theo dõi</h5>
                <a href="https://www.facebook.com/cac.vithan"><i class="fab fa-facebook fs-4 me-3 text-danger"></i></a>
                <a href="#"><i class="fab fa-instagram fs-4 me-3 text-danger"></i></a>
                <a href="#"><i class="fab fa-tiktok fs-4 text-danger"></i></a>
            </div>
        </div>
        <hr style="border-color: rgba(255,255,255,0.2);">
        <div class="text-center">
            <small>© 2025 FoodNow — Designed by TaamLee</small>
        </div>
    </div>
</footer>
</body>
</html>
